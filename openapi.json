{"openapi":"3.0.0","info":{"title":"API","description":"REST API description","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"BikeBattery":{"type":"object","properties":{"level":{"type":"number"}}},"BikeLocation":{"type":"object","properties":{"lat":{"type":"number"},"lon":{"type":"number"}}},"RideRoute":{"type":"object","properties":{"date":{"format":"date-time","type":"string"},"lat":{"type":"number"},"lon":{"type":"number"}}},"Ride":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"deletedAt":{"format":"date-time","type":"string"},"startDate":{"format":"date-time","type":"string"},"finishDate":{"format":"date-time","type":"string"},"route":{"type":"array","items":{"$ref":"#/components/schemas/RideRoute"}},"logs":{"type":"array","items":{"$ref":"#/components/schemas/Log"}},"bike":{"$ref":"#/components/schemas/Bike"},"user":{"$ref":"#/components/schemas/User"}},"required":["bike","user"]},"Bike":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"deletedAt":{"format":"date-time","type":"string"},"code":{"type":"string"},"battery":{"$ref":"#/components/schemas/BikeBattery"},"location":{"$ref":"#/components/schemas/BikeLocation"},"status":{"type":"string"},"purchases":{"type":"array","items":{"$ref":"#/components/schemas/Purchase"}},"rides":{"type":"array","items":{"$ref":"#/components/schemas/Ride"}}}},"Purchase":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"deletedAt":{"format":"date-time","type":"string"},"ride":{"type":"string"},"date":{"format":"date-time","type":"string"},"approved":{"type":"boolean"},"total":{"type":"number"},"type":{"type":"string"},"logs":{"type":"array","items":{"$ref":"#/components/schemas/Log"}},"bike":{"$ref":"#/components/schemas/Bike"},"credits":{"$ref":"#/components/schemas/Credit"},"user":{"$ref":"#/components/schemas/User"}},"required":["bike","credits","user"]},"Log":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"deletedAt":{"format":"date-time","type":"string"},"type":{"type":"string"},"bike":{"type":"string"},"credits":{"type":"string"},"date":{"format":"date-time","type":"string"},"purchase":{"$ref":"#/components/schemas/Purchase"},"ride":{"$ref":"#/components/schemas/Ride"},"user":{"$ref":"#/components/schemas/User"}},"required":["purchase","ride","user"]},"User":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"deletedAt":{"format":"date-time","type":"string"},"password":{"type":"string"},"phone":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"lastActiveAt":{"format":"date-time","type":"string"},"pushTokens":{"type":"array","items":{"type":"string"}},"email":{"type":"string"},"credits":{"type":"array","items":{"$ref":"#/components/schemas/Credit"}},"logs":{"type":"array","items":{"$ref":"#/components/schemas/Log"}},"purchases":{"type":"array","items":{"$ref":"#/components/schemas/Purchase"}},"rides":{"type":"array","items":{"$ref":"#/components/schemas/Ride"}}}},"Credit":{"type":"object","properties":{"_id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"deletedAt":{"format":"date-time","type":"string"},"cardNumber":{"type":"string"},"cardToken":{"type":"string"},"user":{"$ref":"#/components/schemas/User"},"purchases":{"type":"array","items":{"$ref":"#/components/schemas/Purchase"}}},"required":["user"]}}},"paths":{"/users/me":{"get":{"operationId":"UsersController_me","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["Users"],"security":[{"bearer":[]}]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"responses":{"201":{"description":""}},"tags":["Auth"]}},"/auth/code":{"post":{"operationId":"AuthController_sendCode","parameters":[],"responses":{"201":{"description":""}},"tags":["Auth"]}},"/auth/verify":{"post":{"operationId":"AuthController_verifyCode","parameters":[],"responses":{"201":{"description":""}},"tags":["Auth"]}}}}